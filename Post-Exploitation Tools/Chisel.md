Here's an overview of **Chisel**, a fast TCP/UDP tunnel that works over HTTP and WebSocket, useful for penetrating firewalls and establishing communication between different network segments.

### **Chisel**

**Chisel** is a tool for tunneling TCP/UDP data over HTTP or WebSocket connections. It can be used for bypassing firewalls, accessing internal networks, and creating secure tunnels between clients and servers. It is lightweight, portable, and supports reverse tunneling.

#### **Basic Commands and Options**

1. **Starting a Chisel Server:**
   - **Description:** Set up a Chisel server to accept incoming connections.
   - **Command:**
     ```bash
     chisel server -p <port> [options]
     ```
   - **Example:**
     ```bash
     chisel server -p 8080 --reverse
     ```
   - **Explanation:**
     - `-p 8080` specifies the port on which the server will listen.
     - `--reverse` allows the server to accept reverse connections from clients.

2. **Starting a Chisel Client:**
   - **Description:** Connect a client to the Chisel server to establish a tunnel.
   - **Command:**
     ```bash
     chisel client <server_address> <local>:<remote>
     ```
   - **Example:**
     ```bash
     chisel client 192.168.1.10:8080 8000:localhost:22
     ```
   - **Explanation:**
     - Connects the client to the server at `192.168.1.10:8080`.
     - Forwards local port `8000` to `localhost:22` (SSH port on the server).

3. **Reverse Port Forwarding:**
   - **Description:** Set up reverse port forwarding from the client to the server.
   - **Command:**
     ```bash
     chisel client --reverse <server_address> <remote>:<local>
     ```
   - **Example:**
     ```bash
     chisel client --reverse 192.168.1.10:8080 R:8000:localhost:22
     ```
   - **Explanation:**
     - The server will listen on port `8000` and forward traffic to `localhost:22` on the client.

4. **Using Authentication:**
   - **Description:** Add basic authentication to secure the tunnel.
   - **Command:**
     ```bash
     chisel server -p <port> --auth <user>:<password>
     ```
   - **Example:**
     ```bash
     chisel server -p 8080 --auth admin:secret
     chisel client --auth admin:secret 192.168.1.10:8080 8000:localhost:22
     ```
   - **Explanation:**
     - The server and client use `admin:secret` for authentication.

5. **Specifying an HTTP Proxy:**
   - **Description:** Route Chisel traffic through an HTTP proxy.
   - **Command:**
     ```bash
     chisel client --proxy <proxy_address> <server_address> <local>:<remote>
     ```
   - **Example:**
     ```bash
     chisel client --proxy http://proxy.example.com:8080 192.168.1.10:8080 8000:localhost:22
     ```
   - **Explanation:**
     - Routes traffic through `http://proxy.example.com:8080`.

6. **UDP Tunneling:**
   - **Description:** Tunnel UDP traffic through Chisel.
   - **Command:**
     ```bash
     chisel client <server_address> <local>/udp:<remote>
     ```
   - **Example:**
     ```bash
     chisel client 192.168.1.10:8080 8000/udp:localhost:53
     ```
   - **Explanation:**
     - Tunnels UDP traffic from local port `8000` to `localhost:53` (DNS).

7. **Running in Stealth Mode:**
   - **Description:** Hide Chisel traffic by using common protocols.
   - **Command:**
     ```bash
     chisel client --stealth <server_address> <local>:<remote>
     ```
   - **Example:**
     ```bash
     chisel client --stealth 192.168.1.10:8080 8000:localhost:22
     ```
   - **Explanation:**
     - Enables stealth mode to avoid detection by network monitoring tools.

8. **Running Chisel over WebSocket:**
   - **Description:** Use WebSocket protocol for the tunnel.
   - **Command:**
     ```bash
     chisel client ws://<server_address> <local>:<remote>
     ```
   - **Example:**
     ```bash
     chisel client ws://192.168.1.10:8080 8000:localhost:22
     ```
   - **Explanation:**
     - Establishes a WebSocket connection to the server.

### **Summary of Chisel Commands**

| **Command**                            | **Description**                                         | **Example**                                                         |
|----------------------------------------|---------------------------------------------------------|---------------------------------------------------------------------|
| `chisel server -p <port> [options]`    | Start a Chisel server                                   | `chisel server -p 8080 --reverse`                                   |
| `chisel client <server_address> <local>:<remote>` | Start a Chisel client and connect to the server         | `chisel client 192.168.1.10:8080 8000:localhost:22`                 |
| `chisel client --reverse <server_address> <remote>:<local>` | Set up reverse port forwarding                        | `chisel client --reverse 192.168.1.10:8080 R:8000:localhost:22`     |
| `chisel server -p <port> --auth <user>:<password>` | Add authentication to the server                      | `chisel server -p 8080 --auth admin:secret`                         |
| `chisel client --proxy <proxy_address> <server_address> <local>:<remote>` | Use an HTTP proxy for Chisel traffic          | `chisel client --proxy http://proxy.example.com:8080 192.168.1.10:8080 8000:localhost:22` |
| `chisel client <server_address> <local>/udp:<remote>` | Tunnel UDP traffic through Chisel                      | `chisel client 192.168.1.10:8080 8000/udp:localhost:53`             |
| `chisel client --stealth <server_address> <local>:<remote>` | Run Chisel in stealth mode                             | `chisel client --stealth 192.168.1.10:8080 8000:localhost:22`       |
| `chisel client ws://<server_address> <local>:<remote>` | Use WebSocket protocol for tunneling                    | `chisel client ws://192.168.1.10:8080 8000:localhost:22`            |

Chisel is a powerful tool for creating secure, flexible tunnels over HTTP/WebSocket, making it ideal for network penetration testing, remote access, and firewall evasion.